{"version":3,"sources":["utils/validators/validators.ts","assets/images/loader.gif","components/Common/Preloader/Preloader.tsx","components/Common/Paginator/Paginator.module.css","api/api.ts","redux/profile-reducer.tsx","assets/images/user.png","redux/dialogs-reducer.tsx","api/chat-api.ts","redux/chat-reducer.tsx","components/Users/users.module.css","reportWebVitals.ts","components/Music/Music.tsx","components/News/News.tsx","components/Setting/Setting.tsx","redux/navbar-reducer.tsx","utils/object-helpers.ts","redux/users-reducer.tsx","api/auth-api.ts","api/security-api.ts","redux/auth-reducer.tsx","redux/app-reducer.tsx","redux/auth-sagas.ts","redux/app-sagas.ts","redux/redux-store.tsx","components/Common/Paginator/Paginator.tsx","components/Users/User.tsx","redux/users-selectors.ts","components/Users/UsersSearchForm.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx","components/Login/Login.tsx","hoc/withSuspense.tsx","redux/auth-selector.tsx","components/Header/Header.tsx","App.tsx","index.tsx","components/Common/FormsControls/FormsControls.tsx","api/users-api.ts","api/profile-api.ts","components/Common/FormsControls/FormsControls.module.css"],"names":["required","value","maxLengthCreator","maxLength","length","Preloader","React","memo","src","preloader","module","exports","ResultCodesEnum","ResultCodeForCapcthaEnum","instance","axios","create","withCredentials","baseURL","headers","initialState","posts","id","v1","message","likeCounts","profile","status","actions","addPostAC","postText","type","postMessage","deletePostAC","postId","setUserProfile","setStatus","savePhotoSuccess","photo","getUserProfile","userId","dispatch","a","UsersAPI","getProfile","data","getStatus","ProfileAPI","updateStatus","resultCode","Success","savePhoto","file","photos","saveProfile","getState","auth","Error","stopSubmit","_error","messages","Promise","reject","profileReducer","state","action","newPost","filter","p","dialogs","name","addMessageAC","messageText","removeMessageAC","messageId","changeNewMessageTextCreate","newText","dialogsReducer","m","subscribes","ws","closeHandler","notifySubscribersAboutStatus","setTimeout","createChannel","messageHandler","e","newMessage","JSON","parse","forEach","s","openHandler","errorHandler","console","error","cleanUp","removeEventListener","close","WebSocket","addEventListener","chatAPI","eventName","callback","push","send","payload","_newMessageHandler","newMessageHandlerCreator","_statusChangedHandler","statusChangedHandlerCreator","startMessagesListening","stopMessagesListening","sendMessage","chatReducer","map","index","array","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Music","props","News","Setting","friends","navbarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","u","users","pageSize","totalUsersCounts","currentPage","isFetching","followingIsProgress","term","friend","userID","totalPage","getUsers","totalCount","followUnfollow","apiMethod","actionCreator","usersReducer","followed","authAPI","get","res","email","password","rememberMe","captcha","post","response","delete","securityAPI","login","isAuth","captchaUrl","getAuthUsersData","meData","getCaptchaUrl","url","authReducer","initialized","appReducer","getAuthUsersDataSagaWorker","loginWorkerSaga","logoutWorkerSaga","authWatcherSaga","getCaptchaUrlSagaWorker","call","put","CaptchaIsRequired","takeEvery","initializeAppWorkerSaga","appWatcherSaga","promise","all","log","preloadedState","rootWatcher","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","profilePage","dialogsPage","navbarPage","form","formReducer","app","chat","sagaMiddleware","createSagaMiddleware","persistedTodosString","localStorage","getItem","store","createStore","applyMiddleware","thunkMiddleware","subscribe","setItem","stringify","run","Paginator","totalItemCounts","onPageChanged","x","portionSize","pagesCount","Math","ceil","pages","i","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","cn","styles","pageBlock","onClick","selectedPage","User","user","follow","unfollow","to","small","userPhoto","UsersPhoto","disabled","some","getUserSuper","createSelector","getPageSizeSelector","getTotalUsersCountsSelector","getCurrentPageSelector","getIsFetchingSelector","getFollowingIsProgressSelector","getUsersFilter","usersSearchFormValidate","values","UsersSearchForm","useSelector","enableReinitialize","initialValues","String","validate","onSubmit","setSubmitting","onFilterChanged","isSubmitting","as","Users","totalUsersCount","followingInProgress","useDispatch","history","useHistory","useEffect","parsed","queryString","location","search","substr","actualPage","actualFilter","page","Number","query","pathname","followU","bind","unfollowU","pageNumber","UsersContainer","pageTitle","LoginReduxForm","reduxForm","handleSubmit","createField","Input","undefined","style","someError","Login","formData","withSuspense","WrappedComponent","Suspense","fallback","selectIsAuth","selectUserCurrent","Header","Layout","span","theme","mode","defaultSelectedKeys","Item","backgroundColor","icon","UserOutlined","SubMenu","Menu","Content","Footer","Sider","DialogsContainer","lazy","ProfileContainer","ChatPage","SuspendedDialogs","SuspendedProfile","SuspendedChat","App","catchAllUnhandledErrors","alert","this","initializedApp","padding","margin","width","height","title","LaptopOutlined","NotificationOutlined","minHeight","path","render","textAlign","Component","AppClass","withRouter","connect","stateForNavbar","catch","finally","AppContainer","basename","process","ReactDOM","document","getElementById","FormControl","meta","touched","children","hasError","formControl","Textarea","input","restProps","textarea","placeholder","validators","component","text","FormData","append"],"mappings":"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","file":"static/js/main.7d9cc593.chunk.js","sourcesContent":["export type FieldValidatorType = (value: string) => string | undefined\r\n\r\nexport const required: FieldValidatorType = (value) =>{\r\n    if(!!value)return undefined\r\n\r\n    return 'Filed is required'\r\n}\r\nexport const maxLengthCreator =(maxLength:number): FieldValidatorType=>(value) =>{\r\n        if(value && value.length > 30)return `Max length is ${maxLength} symbols`\r\n        return undefined;\r\n    }","export default __webpack_public_path__ + \"static/media/loader.c2493588.gif\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/loader.gif\";\r\n\r\nconst Preloader = React.memo(()=>{\r\n    return <div>\r\n        <img src={preloader}/>\r\n    </div>\r\n})\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageBlock\":\"Paginator_pageBlock__SUzvf\",\"selectedPage\":\"Paginator_selectedPage__3yNjw\"};","import * as axios from \"axios\";\r\nimport {UserType} from \"../redux/types/types\";\r\n\r\nexport const instance = axios.default.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"07c457bc-e742-4380-afc8-e78bc10fd120\"\r\n    }\r\n})\r\nexport enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1\r\n}\r\nexport enum ResultCodeForCapcthaEnum {\r\n    CaptchaIsRequired = 10\r\n}\r\nexport type GetItemsType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\nexport type APIResponseType<D = {}, RC = ResultCodesEnum> = {\r\n    data: D\r\n    messages: Array<string>\r\n    resultCode: RC\r\n}\r\n\r\n\r\n","import {BaseThunkType, InferActionsTypes} from \"./redux-store\";\r\nimport {FormAction, stopSubmit} from \"redux-form\";\r\nimport {PhotosType, ProfileType} from \"./types/types\";\r\nimport {UsersAPI} from \"../api/users-api\";\r\nimport {ProfileAPI} from \"../api/profile-api\";\r\nimport {ResultCodesEnum} from \"../api/api\";\r\nimport {v1} from \"uuid\";\r\n\r\n\r\nexport type PostType = {\r\n    id: string\r\n    message: string\r\n    likeCounts: number\r\n    removeMessage?:()=>void\r\n}\r\n\r\nexport let initialState = {\r\n    posts: [\r\n        {id: v1(),message: \"Hello, It is my first massage\", likeCounts: 15},\r\n        {id: v1(), message: \"Hello, I am Lesha\", likeCounts: 30},\r\n    ] as Array<PostType>,\r\n    profile:{\r\n        \"aboutMe\": \"я круто чувак 1001%\",\r\n        \"contacts\": {\r\n            \"facebook\": \"facebook.com\",\r\n            \"website\": '',\r\n            \"vk\": \"vk.com/dimych\",\r\n            \"twitter\": \"https://twitter.com/@sdf\",\r\n            \"instagram\": \"instagra.com/sds\",\r\n            \"youtube\": '',\r\n            \"github\": \"github.com\",\r\n            \"mainLink\": ''\r\n        },\r\n        \"lookingForAJob\": true,\r\n        \"lookingForAJobDescription\": \"не ищу, а дурачусь!!!\",\r\n        \"fullName\": \"samurai dimych\",\r\n        \"userId\": 2,\r\n        \"photos\": {\r\n            \"small\": \"https://social-network.samuraijs.com/activecontent/images/users/2/user-small.jpg?v=0\",\r\n            \"large\": \"https://social-network.samuraijs.com/activecontent/images/users/2/user.jpg?v=0\"\r\n        }\r\n    } as ProfileType | null,\r\n    status: ''\r\n}\r\n\r\nexport const profileReducer = (state = initialState, action: ActionsType):InitialStateType => {\r\n    switch (action.type) {\r\n        case \"ADD-POST\": {\r\n            const newPost = {id: v1(), message:action.postMessage, likeCounts: 0}\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n        }}\r\n        case \"REMOVE-POST\":\r\n            return {\r\n            ...state,\r\n            posts: state.posts.filter(p=> p.id != action.postId)\r\n        }\r\n        case \"SET_USER_PROFILE\":{\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case \"SET_STATUS\": {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case \"SAVE_PHOTO_SUCCESS\":{\r\n            return {...state, profile:{...state.profile, photos: action.photo}as ProfileType}\r\n        }\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    addPostAC: (postText: string) => ({type: 'ADD-POST',postMessage: postText} as const),\r\n    deletePostAC: (postId: string) => ({type: 'REMOVE-POST',postId} as const),\r\n    setUserProfile: (profile: ProfileType) => ({type: 'SET_USER_PROFILE',profile} as const),\r\n    setStatus: (status: string) => ({type: 'SET_STATUS',status} as const),\r\n    savePhotoSuccess: (photo: PhotosType) =>({type: 'SAVE_PHOTO_SUCCESS',photo} as const)\r\n}\r\n\r\nexport const getUserProfile = (userId: number | null):ThunkType =>async (dispatch)=> {\r\n    const data = await UsersAPI.getProfile(userId)\r\n        dispatch(actions.setUserProfile(data))\r\n}\r\nexport const getStatus = (userId: number | null):ThunkType =>async (dispatch)=> {\r\n     const data = await ProfileAPI.getStatus(userId)\r\n        dispatch(actions.setStatus(data))\r\n}\r\nexport const updateStatus = (status: string):ThunkType => async (dispatch)=> {\r\n    try {\r\n        const data = await ProfileAPI.updateStatus(status)\r\n        if(data.resultCode === ResultCodesEnum.Success){\r\n            dispatch(actions.setStatus(status))\r\n        }\r\n    } catch (error){\r\n\r\n    }\r\n}\r\nexport const savePhoto = (file: File): ThunkType => async (dispatch)=> {\r\n    let data = await ProfileAPI.savePhoto(file)\r\n            if(data.resultCode === ResultCodesEnum.Success){\r\n                dispatch(actions.savePhotoSuccess(data.data.photos))\r\n            }\r\n}\r\n\r\nexport const saveProfile = (profile: ProfileType): ThunkType => async (dispatch, getState)=> {\r\n    const userId = getState().auth.id\r\n    const data = await ProfileAPI.saveProfile(profile)\r\n    if(data.resultCode === ResultCodesEnum.Success){\r\n        if(userId != null){\r\n        dispatch(getUserProfile(userId))\r\n        } else {\r\n            throw new Error(\"userId can't be null\")\r\n        }\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: data.messages[0] }))\r\n        return Promise.reject(data.messages[0])\r\n    }\r\n}\r\n\r\nexport default profileReducer\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsType | FormAction>","export default __webpack_public_path__ + \"static/media/user.ab7efdc7.png\";","import {InferActionsTypes} from \"./redux-store\";\r\n\r\n\r\ntype messageType = {\r\n    id: number\r\n    message: string\r\n}\r\ntype dialogsType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nconst initialState = {\r\n    messages: [\r\n        { id: 1, message: \"Hi\"},\r\n        { id: 2, message: \"I am here\"},\r\n        { id: 3, message: \"bye\"},\r\n    ] as Array<messageType>,\r\n    dialogs: [\r\n        { id: 1, name: \"Alex\"},\r\n        { id: 2, name: \"Victor\"},\r\n        { id: 3, name: \"Sasha\"},\r\n        { id: 4, name: \"Mike\"},\r\n        { id: 5, name: \"Bob\"},\r\n    ] as Array<dialogsType>\r\n}\r\n\r\nconst dialogsReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType=>{\r\n    switch (action.type){\r\n        case \"ADD-MESSAGE\":{\r\n            const message = action.postMessage\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: message}]\r\n            }\r\n        }\r\n        case \"REMOVE-MESSAGE\":\r\n            return {\r\n                ...state,\r\n                messages: state.messages.filter(m=>m.id != action.messageId)\r\n            }\r\n        case \"UPDATE-YOUR-MESSAGE-TEXT\":{\r\n            return {\r\n                ...state,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const actions = {\r\n    addMessageAC: (messageText:string)=>({type:'ADD-MESSAGE', postMessage: messageText}as const),\r\n    removeMessageAC:(messageId:number)=>({type:'REMOVE-MESSAGE',messageId}as const),\r\n    changeNewMessageTextCreate: (newText:string)=>({type:'UPDATE-YOUR-MESSAGE-TEXT',newText: newText}as const)\r\n}\r\n\r\nexport default dialogsReducer\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsTypes<typeof actions>","\r\nlet subscribes = {\r\n    'message-received': [] as MessageReceivedSubscribeType[],\r\n    'status-changed': [] as StatusChangedSubscribeType[],\r\n}\r\n\r\nlet ws: WebSocket | null = null\r\ntype EventsNamesType = 'message-received' | 'status-changed'\r\n\r\nconst closeHandler = () => {\r\n    notifySubscribersAboutStatus('pending')\r\n    setTimeout(createChannel, 3000)\r\n}\r\nconst messageHandler = (e:MessageEvent) => {\r\n    const newMessage = JSON.parse(e.data)\r\n    subscribes['message-received'].forEach(s=>s(newMessage))\r\n}\r\nconst openHandler = () => {\r\n    notifySubscribersAboutStatus('ready')\r\n}\r\nconst errorHandler = () => {\r\n    notifySubscribersAboutStatus('error')\r\n    console.error('Refresh page')\r\n}\r\nconst cleanUp = ()=>{\r\n    ws?.removeEventListener(\"close\", closeHandler)\r\n    ws?.removeEventListener('message', messageHandler)\r\n    ws?.removeEventListener('open', openHandler)\r\n    ws?.removeEventListener('error', errorHandler)\r\n}\r\nconst notifySubscribersAboutStatus =(status: StatusType)=>{\r\n    subscribes['status-changed'].forEach(s=> s(status))\r\n}\r\nfunction createChannel() {\r\n    cleanUp();\r\n    ws?.close()\r\n    ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\r\n    notifySubscribersAboutStatus('pending')\r\n    ws.addEventListener('close', closeHandler)\r\n    ws.addEventListener('message', messageHandler)\r\n    ws.addEventListener('open', openHandler)\r\n    ws.addEventListener('error', errorHandler)\r\n}\r\n\r\nexport const chatAPI = {\r\n    start(){\r\n        createChannel()\r\n    },\r\n    stop(){\r\n        subscribes['message-received'] = []\r\n        subscribes['status-changed'] = []\r\n        cleanUp();\r\n        ws?.close()\r\n    },\r\n    subscribe(eventName: EventsNamesType, callback: MessageReceivedSubscribeType | StatusChangedSubscribeType){\r\n        // @ts-ignore\r\n        subscribes[eventName].push(callback)\r\n        return ()=>{\r\n            // @ts-ignore\r\n            subscribes[eventName] = subscribes[eventName].filter(s => s !== callback)\r\n        }\r\n    },\r\n    unsubscribe(eventName: EventsNamesType, callback: MessageReceivedSubscribeType | StatusChangedSubscribeType){\r\n        // @ts-ignore\r\n        subscribes[eventName] = subscribes[eventName].filter(s => s !== callback)\r\n    },\r\n    sendMessage(message: string){\r\n        ws?.send(message)\r\n    }\r\n}\r\n\r\n\r\ntype MessageReceivedSubscribeType = (messages: ChatMessageAPIType[])=> void\r\ntype StatusChangedSubscribeType = (status: StatusType)=> void\r\nexport type StatusType = 'pending' | 'ready' | 'error'\r\nexport type ChatMessageAPIType = {\r\n    message: string\r\n    photo: string\r\n    userId: number\r\n    userName: string\r\n}","import {FormAction} from \"redux-form\";\r\nimport {BaseThunkType, InferActionsTypes} from \"./redux-store\";\r\nimport {chatAPI, ChatMessageAPIType, StatusType} from \"../api/chat-api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {v1} from \"uuid\";\r\n\r\nexport type ChatMessageType = ChatMessageAPIType & {id: string}\r\n\r\nlet initialState = {\r\n    messages: [] as Array<ChatMessageType>,\r\n    status: 'pending' as StatusType\r\n}\r\n\r\nexport const chatReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"chat/MESSAGES_RECEIVED\":\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, ...action.payload.messages.map(m => ({...m, id: v1()}))]\r\n                    .filter((m, index, array)=> index>= array.length - 100),\r\n            }\r\n        case 'chat/STATUS_CHANGED':\r\n            return {...state, status: action.payload.status}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    messagedReceived: (messages: ChatMessageAPIType[]) => ({type: 'chat/MESSAGES_RECEIVED', payload: {messages}} as const),\r\n    statusChanged: (status: StatusType) => ({type: 'chat/STATUS_CHANGED', payload: {status}} as const),\r\n}\r\nlet _newMessageHandler: ((messages: ChatMessageAPIType[]) => void) | null = null\r\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_newMessageHandler === null) {\r\n        _newMessageHandler = (messages) => {\r\n            dispatch(actions.messagedReceived(messages))\r\n        }\r\n    }\r\n    return _newMessageHandler\r\n}\r\n\r\nlet _statusChangedHandler: ((status: StatusType) => void) | null = null\r\nconst statusChangedHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_statusChangedHandler === null) {\r\n        _statusChangedHandler = (status) => {\r\n            dispatch(actions.statusChanged(status))\r\n        }\r\n    }\r\n    return _statusChangedHandler\r\n}\r\n\r\nexport const startMessagesListening = (): ThunkType => async (dispatch) => {\r\n    chatAPI.start()\r\n    chatAPI.subscribe('message-received',newMessageHandlerCreator(dispatch))\r\n    chatAPI.subscribe('status-changed',statusChangedHandlerCreator(dispatch))\r\n}\r\nexport const stopMessagesListening = (): ThunkType => async (dispatch) => {\r\n    chatAPI.unsubscribe('message-received',newMessageHandlerCreator(dispatch))\r\n    chatAPI.unsubscribe('status-changed',statusChangedHandlerCreator(dispatch))\r\n    chatAPI.stop()\r\n}\r\nexport const sendMessage = (message: string): ThunkType => async (dispatch) => {\r\n    chatAPI.sendMessage(message)\r\n}\r\n\r\n\r\nexport default chatReducer\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsType | FormAction>","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UsersPhoto\":\"users_UsersPhoto__O1W8b\"};","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react'\r\nimport classes from './Music.module.css'\r\n\r\nconst Music = (props: any) =>{\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music;","import React from 'react'\r\nimport classes from './News.module.css'\r\n\r\nconst News = (props: any) =>{\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News;","import React from 'react'\r\nimport classes from './Setting.module.css'\r\n\r\nconst Setting = (props: any) =>{\r\n    return (\r\n        <div>\r\n            Setting\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Setting;","\r\nexport type friendType = {\r\n    id: number\r\n    name: string\r\n    src: string\r\n}\r\n\r\nexport type ActionType ={}\r\nexport type initialStateType = {\r\n    friends: Array<friendType>\r\n}\r\n\r\nlet initialState = {\r\n    friends: [\r\n        { id: 1, name: 'Kirill', src:\"https://cdni.rt.com/russian/images/2019.03/article/5c99e32a18356130668b45a2.JPG\"},\r\n        { id: 2, name: \"Peeter\", src: \"https://vokrug-tv.ru/pic/person/2/2/d/b/22db573c1118bc091c4267e15258d8ce.jpeg\"},\r\n        { id: 3, name: \"Vlad\", src: \"https://upload.wikimedia.org/wikipedia/ru/4/4e/Patrick_star-4854.jpg\"},\r\n    ],\r\n}\r\n\r\nconst navbarReducer = (state: initialStateType = initialState, action: ActionType):initialStateType=>{\r\n\r\n    return state\r\n}\r\n\r\nexport default navbarReducer","\r\nexport const updateObjectInArray = (items: any, itemId: any, objPropName: any, newObjProps: any) => {\r\n    return items.map((u: any) => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}\r\n","import {Dispatch} from \"redux\";\r\nimport {APIResponseType, ResultCodesEnum} from \"../api/api\";\r\nimport {UserType} from \"./types/types\";\r\nimport {BaseThunkType, InferActionsTypes} from \"./redux-store\";\r\nimport {UsersAPI} from \"../api/users-api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nlet initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 10,\r\n    totalUsersCounts: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingIsProgress: [] as Array<number>,\r\n    filter: {\r\n        term: '',\r\n        friend: null as null | boolean\r\n    }\r\n}\r\nexport const usersReducer = (state = initialState, action: ActionsTypes): InitialState => {\r\n    switch (action.type) {\r\n        case \"FOLLOW\":\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: true})\r\n            }\r\n        case \"UNFOLLOW\":\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: false})\r\n            }\r\n        case \"SET_USERS\":\r\n            return {...state, users: action.users}\r\n        case \"SET_CURRENT_PAGE\":\r\n            return {...state, currentPage: action.currentPage}\r\n        case \"SET_TOTAL_COUNT\":\r\n            return {...state, totalUsersCounts: action.totalPage}\r\n        case \"TOGGLE_IS_FETCHING\":\r\n            return {...state,isFetching: action.isFetching}\r\n        case 'SET_FILTER': {\r\n            return {...state, filter: action.payload}\r\n        }\r\n        case \"TOGGLE_IS_FOLLOWING_PROGRESS\":\r\n            return {\r\n                ...state,\r\n                followingIsProgress: action.isFetching\r\n                    ? [...state.followingIsProgress, action.userId]\r\n                    : state.followingIsProgress.filter(id => id != action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    unfollowSuccess: (userID: number) => ({type: \"UNFOLLOW\", userID} as const),\r\n    followSuccess: (userID: number) => ({type: \"FOLLOW\", userID} as const),\r\n    setUsers: (users: Array<UserType>) => ({type: \"SET_USERS\", users} as const),\r\n    setCurrentPage: (currentPage: number) => ({type: \"SET_CURRENT_PAGE\", currentPage} as const),\r\n    setFilter: (filter: FilterType) => ({type: 'SET_FILTER', payload: filter} as const),\r\n    setTotalUsersCount: (totalPage: number) => ({type: \"SET_TOTAL_COUNT\", totalPage} as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({type: \"TOGGLE_IS_FETCHING\", isFetching} as const),\r\n    toggleFollowingIsProgress: (isFetching: boolean, userId: number) => ({type: \"TOGGLE_IS_FOLLOWING_PROGRESS\",\r\n        isFetching,\r\n        userId\r\n    } as const)\r\n}\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number, filter: FilterType): ThunkType => {\r\n    return async (dispatch) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        dispatch(actions.setCurrentPage(currentPage))\r\n        dispatch(actions.setFilter(filter))\r\n\r\n        let data = await UsersAPI.getUsers(currentPage, pageSize, filter.term, filter.friend)\r\n        dispatch(actions.toggleIsFetching(false))\r\n        dispatch(actions.setUsers(data.items))\r\n        dispatch(actions.setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\nconst followUnfollow = async (dispatch: Dispatch<ActionsTypes>, userId: number,apiMethod:(userId: number) => Promise<APIResponseType>, actionCreator: (userId: number) => ActionsTypes )=>{\r\n    dispatch(actions.toggleFollowingIsProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.resultCode === ResultCodesEnum.Success) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(actions.toggleFollowingIsProgress(false, userId))\r\n}\r\nexport const follow = (userId: number):ThunkType => {\r\n    return async (dispatch) => {\r\n        await followUnfollow(dispatch, userId, UsersAPI.follow.bind(UsersAPI),actions.followSuccess)\r\n    }\r\n}\r\nexport const unfollow = (userId: number):ThunkType => {\r\n    return async (dispatch) => {\r\n        await followUnfollow(dispatch, userId, UsersAPI.unfollow.bind(UsersAPI),actions.unfollowSuccess)\r\n    }\r\n}\r\nexport default usersReducer\r\n\r\nexport type InitialState = typeof initialState\r\nexport type FilterType = typeof initialState.filter\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\n","import {APIResponseType, instance, ResultCodeForCapcthaEnum, ResultCodesEnum} from \"./api\";\r\n\r\nexport type MeResponseDataType = {\r\n    id: number\r\n    email: string\r\n    login: string\r\n}\r\nexport type LoginResponseDataType = {\r\n    userId: number\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<APIResponseType<MeResponseDataType>>(`auth/me`).then(res => res.data);\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false, captcha: null | string = null){\r\n        return instance.post<APIResponseType<LoginResponseDataType, ResultCodesEnum | ResultCodeForCapcthaEnum>>(`auth/login`, {email, password, rememberMe, captcha})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`)\r\n            .then(res => res.data)\r\n    }\r\n}\r\n\r\n","import {instance} from \"./api\";\r\n\r\n\r\nexport type GetCaptchaUrlResponseType = {\r\n    url: string\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get<Promise<GetCaptchaUrlResponseType>>(`security/get-captcha-url`).then(res => res.data)\r\n    }\r\n}\r\n\r\n\r\n","import {ResultCodeForCapcthaEnum, ResultCodesEnum} from \"../api/api\";\r\nimport {FormAction, stopSubmit} from \"redux-form\";\r\nimport {BaseThunkType, InferActionsTypes} from \"./redux-store\";\r\nimport {authAPI} from \"../api/auth-api\";\r\nimport { securityAPI } from \"../api/security-api\";\r\n\r\n\r\nlet initialState = {\r\n    id: null as (number | null),\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false,\r\n    isFetching: false,\r\n    captchaUrl: null as string | null // if null, then captcha is not required\r\n}\r\n\r\nexport const authReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"SET_USER_DATA\":\r\n        case \"GET_CAPTCHA_URL_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    getCaptchaUrlSuccess:(captchaUrl: string )=>({type:'GET_CAPTCHA_URL_SUCCESS', payload: {captchaUrl}}as const),\r\n    setAuthUserData: (id: number | null, login: string | null, email: string | null, isAuth: boolean) => ({\r\n        type: \"SET_USER_DATA\", payload: {id, login, email, isAuth}\r\n    } as const)\r\n}\r\n\r\n\r\nexport const getAuthUsersData = (): ThunkType =>async (dispatch) => {\r\n            let meData = await authAPI.me();\r\n            if (meData.resultCode === ResultCodesEnum.Success) {\r\n                let {id, login, email} = meData.data\r\n                dispatch(actions.setAuthUserData(id, login, email, true))\r\n            }\r\n}\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkType => {\r\n    return async (dispatch) => {\r\n        const data = await authAPI.login(email, password, rememberMe, captcha)\r\n        if (data.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(getAuthUsersData())\r\n        }else {\r\n            if (data.resultCode === ResultCodeForCapcthaEnum.CaptchaIsRequired) {\r\n                dispatch(getCaptchaUrl());\r\n            }\r\n            let message = data.messages.length > 0 ? data.messages[0] : 'some error'\r\n            dispatch(stopSubmit('login', {_error: message}))\r\n        }\r\n    }\r\n}\r\nexport const getCaptchaUrl = (): ThunkType => async (dispatch) => {\r\n        const data = await securityAPI.getCaptchaUrl()\r\n        const captchaUrl = data.url\r\n            dispatch(actions.getCaptchaUrlSuccess(captchaUrl))\r\n    }\r\n\r\n\r\nexport const logout = (): ThunkType => {\r\n    return async (dispatch) => {\r\n        const data = await authAPI.logout()\r\n        if (data.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(actions.setAuthUserData(null, null, null, false))\r\n        }\r\n    }\r\n}\r\n\r\nexport default authReducer\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\nexport type ThunkType = BaseThunkType<ActionsType | FormAction>","import {InferActionsTypes} from \"./redux-store\";\r\nimport {getAuthUsersData} from \"./auth-reducer\";\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nexport const appReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"INITIALIZED_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    initializedSuccess: ()=> ({type: \"INITIALIZED_SUCCESS\"} as const)\r\n}\r\n\r\nexport const initializedApp = () => (dispatch: any) => {\r\n        let promise = dispatch(getAuthUsersData());\r\n        Promise.all([promise])\r\n            .then(()=>{\r\n                dispatch(actions.initializedSuccess())\r\n            })\r\n            .catch((e) => {\r\n                //go fo pizza\r\n                console.log(e)\r\n            })\r\n            .finally(() => {\r\n                //dispatch(initializedSuccess(error))\r\n            })\r\n}\r\n\r\nexport default appReducer\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\n","import {APIResponseType, ResultCodeForCapcthaEnum, ResultCodesEnum} from \"../api/api\";\r\nimport {FormAction, stopSubmit} from \"redux-form\";\r\nimport {BaseThunkType, InferActionsTypes} from \"./redux-store\";\r\nimport {authAPI, LoginResponseDataType, MeResponseDataType} from \"../api/auth-api\";\r\nimport {GetCaptchaUrlResponseType, securityAPI} from \"../api/security-api\";\r\nimport {call, put, takeEvery} from \"redux-saga/effects\";\r\nimport {actions} from \"./auth-reducer\";\r\n\r\n\r\nexport function* getAuthUsersDataSagaWorker() {\r\n    let meData: APIResponseType<MeResponseDataType> = yield call(authAPI.me);\r\n    if (meData.resultCode === ResultCodesEnum.Success) {\r\n        let {id, login, email} = meData.data\r\n        yield put(actions.setAuthUserData(id, login, email, true))\r\n    }\r\n}\r\n\r\nexport function* loginWorkerSaga(action: ReturnType<typeof loginS>) {\r\n    const data: APIResponseType<LoginResponseDataType, ResultCodesEnum | ResultCodeForCapcthaEnum> = yield call(authAPI.login, action.email, action.password, action.rememberMe, action.captcha)\r\n    if (data.resultCode === ResultCodesEnum.Success) {\r\n        yield put(getAuthUsersData())\r\n    } else {\r\n        if (data.resultCode === ResultCodeForCapcthaEnum.CaptchaIsRequired) {\r\n            // @ts-ignore\r\n            yield put(getCaptchaUrlSagaWorker());\r\n        }\r\n        let message = data.messages.length > 0 ? data.messages[0] : 'some error'\r\n        yield put(stopSubmit('login', {_error: message}))\r\n    }\r\n}\r\n\r\nexport function* logoutWorkerSaga (){\r\n        const data:APIResponseType = yield call(authAPI.logout)\r\n        if (data.resultCode === ResultCodesEnum.Success) {\r\n            yield put(actions.setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport const getAuthUsersData = () => ({type: 'TASKS/GET-USER-DATA-UPDATE'})\r\nexport const loginS = (email: string, password: string, rememberMe: boolean, captcha: string) => ({\r\n    type: 'TASKS/LOGIN',\r\n    email,\r\n    password,\r\n    rememberMe,\r\n    captcha\r\n})\r\nexport const logoutS = () => ({type: 'TASKS/LOGOUT'})\r\n\r\n\r\nexport function* authWatcherSaga() {\r\n    yield takeEvery('TASKS/GET-USER-DATA-UPDATE', getAuthUsersData)\r\n    yield takeEvery('TASKS/LOGIN', loginWorkerSaga)\r\n    yield takeEvery('TASKS/LOGOUT', logoutWorkerSaga)\r\n}\r\n\r\n\r\nexport function* getCaptchaUrlSagaWorker (){\r\n    const data: GetCaptchaUrlResponseType = yield call(securityAPI.getCaptchaUrl)\r\n    const captchaUrl = data.url\r\n    yield put(actions.getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\n","import {call, put, takeEvery} from \"redux-saga/effects\";\r\nimport {actions} from \"./app-reducer\";\r\nimport {APIResponseType} from \"../api/api\";\r\nimport {getAuthUsersDataSagaWorker} from \"./auth-sagas\";\r\n\r\n\r\n\r\nexport function* initializeAppWorkerSaga() {\r\n    // @ts-ignore\r\n    let promise: APIResponseType = yield put(getAuthUsersDataSagaWorker());\r\n    try{\r\n        const res: APIResponseType = yield call(Promise.all,[promise])\r\n                yield put(actions.initializedSuccess())\r\n    }\r\n    catch(e){\r\n            console.log(e)\r\n        }\r\n}\r\n\r\nexport const initializeApp = () => ({type: 'APP/INITIALIZE-APP'})\r\n\r\nexport function* appWatcherSaga(){\r\n    yield takeEvery(\"APP/INITIALIZE-APP\", initializeAppWorkerSaga)\r\n}","import {Action, AnyAction, applyMiddleware, combineReducers, createStore, compose} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport navbarReducer from \"./navbar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\"\r\nimport { reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\nimport chatReducer from \"./chat-reducer\";\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport { all } from 'redux-saga/effects';\r\nimport {appWatcherSaga} from \"./app-sagas\";\r\nimport {authWatcherSaga} from \"./auth-sagas\";\r\n\r\n\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage:dialogsReducer,\r\n    navbarPage:navbarReducer,\r\n    users:usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n    chat: chatReducer\r\n})\r\nconst sagaMiddleware = createSagaMiddleware()\r\n\r\nlet preloadedState;\r\nconst persistedTodosString = localStorage.getItem('app-state')\r\nif(persistedTodosString){\r\n    preloadedState = JSON.parse(persistedTodosString)\r\n}\r\n\r\n\r\nconst store = createStore(rootReducer,preloadedState, composeEnhancers(applyMiddleware(thunkMiddleware, sagaMiddleware)));\r\n\r\nstore.subscribe(()=>{\r\n    localStorage.setItem('app-state', JSON.stringify(store.getState()))\r\n    localStorage.setItem('posts', JSON.stringify(store.getState().profilePage.posts))\r\n})\r\n\r\n\r\nsagaMiddleware.run(rootWatcher)\r\n\r\nfunction* rootWatcher(){\r\n    yield all([appWatcherSaga(), authWatcherSaga()]);\r\n}\r\n\r\nexport type RootReduxStateType = ReturnType<typeof rootReducer>\r\n\r\nexport type AppThunk <ReturnType = void> = ThunkAction<ReturnType, RootReduxStateType, unknown, AnyAction>\r\n\r\nexport type InferActionsTypes<T> = T extends { [keys: string]: (...args: any[]) => infer U } ? U : never\r\n\r\nexport type BaseThunkType<A extends Action = Action, R = Promise<void>> = ThunkAction<R, RootReduxStateType, unknown, A>\r\n\r\nexport default store\r\n","import React, {useState} from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from 'classnames'\r\n\r\ntype PaginatorType = {\r\n    pageSize: number\r\n    portionSize?: number\r\n    totalItemCounts: number\r\n    currentPage?: number\r\n    onPageChanged?: (pageNumber: number) => void\r\n}\r\n\r\nexport const Paginator: React.FC<PaginatorType> = ({totalItemCounts,\r\n                                                                  pageSize,\r\n                                                                  onPageChanged = x => x,\r\n                                                                  currentPage = 1,\r\n                                                                  portionSize = 15}) => {\r\n    let pagesCount = Math.ceil(totalItemCounts / pageSize)\r\n\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n     }\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n    return (\r\n        <div className={cn(styles.pageBlock)}>\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>Prev</button>}\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span key={p} className={ cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }) }\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p)\r\n                             }}>{p}</span>\r\n            })}\r\n            {portionCount > portionNumber &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>Next</button>}\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport styles from \"./users.module.css\";\r\nimport {UserType} from \"../../redux/types/types\";\r\n\r\n\r\ntype UserPropsType = {\r\n    user: UserType\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    followingIsProgress: Array<number>\r\n}\r\n\r\nexport const User:React.FC<UserPropsType> =({user, follow, unfollow, followingIsProgress}) => {\r\n    return (\r\n        <div>\r\n\r\n            <div>\r\n                    <span>\r\n                        <div>\r\n                           <NavLink to={'/profile/' + user.id}>\r\n                                <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                                     className={styles.UsersPhoto}/>\r\n                           </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {user.followed\r\n                                ? <button disabled={followingIsProgress.some(id => id === user.id)}\r\n                                          onClick={() => {\r\n                                              unfollow(user.id)\r\n                                          }}>Unfollow</button>\r\n                                : <button disabled={followingIsProgress.some(id => id === user.id)}\r\n                                          onClick={() => {\r\n                                              follow(user.id)\r\n                                          }}>Follow</button>}\r\n                        </div>\r\n                    </span>\r\n                <span>\r\n                        <span>\r\n                            <div>{user.name}</div>\r\n                            <div>{user.status}</div>\r\n                        </span>\r\n                        <span>\r\n                            <div>{\"u.location.country\"}</div>\r\n                            <div>{\"u.location.city\"}</div>\r\n                        </span>\r\n                    </span>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import { createSelector } from \"reselect\";\r\nimport {RootReduxStateType} from \"./redux-store\";\r\n\r\nexport const getUsers = (state: RootReduxStateType)=> {\r\n    return state.users.users;\r\n}\r\nexport const getUsersSelector = (state: RootReduxStateType)=>{\r\n    return getUsers(state).filter( u=> true);\r\n}\r\nexport const getUserSuper = createSelector(getUsersSelector,(users) =>{\r\n    return users.filter( u=> true);\r\n})\r\nexport const getPageSizeSelector = (state: RootReduxStateType)=>{\r\n    return state.users.pageSize;\r\n}\r\nexport const getTotalUsersCountsSelector = (state: RootReduxStateType)=>{\r\n    return state.users.totalUsersCounts;\r\n}\r\nexport const getCurrentPageSelector = (state: RootReduxStateType)=>{\r\n    return state.users.currentPage;\r\n}\r\nexport const getIsFetchingSelector = (state: RootReduxStateType)=>{\r\n    return state.users.isFetching;\r\n}\r\nexport const getFollowingIsProgressSelector = (state: RootReduxStateType)=>{\r\n    return state.users.followingIsProgress;\r\n}\r\nexport const getUsersFilter = (state: RootReduxStateType) => {\r\n    return state.users.filter;\r\n}","import {FilterType} from \"../../redux/users-reducer\";\r\nimport React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getUsersFilter} from \"../../redux/users-selectors\";\r\nimport {Field, Form, Formik} from \"formik\";\r\n\r\n// const usersSearchFormValidate = (values: any) => {\r\n//     const errors = {}\r\n//     return errors\r\n// }\r\n// type FriendFormType = 'true' | 'false' | 'null'\r\n// type FormType = {\r\n//     term: string\r\n//     friend: 'true' | 'false' | 'null'\r\n// }\r\n// type PropsType = {\r\n//     onFilterChanged: (filter: FilterType) => void\r\n// }\r\n// export const UsersSearchForm: React.FC<PropsType> = React.memo((props) => {\r\n//     const filter = useSelector(getUsersFilter)\r\n//     const submit = (values: FormType, {setSubmitting}: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n//         const filter: FilterType = {\r\n//             term: values.term,\r\n//             friend: values.friend === 'null' ? null : values.friend === 'true' ? true : false\r\n//         }\r\n//\r\n//         props.onFilterChanged(filter)\r\n//         setSubmitting(false)\r\n//     }\r\n//\r\n//     return <div>\r\n//         <Formik\r\n//             enableReinitialize\r\n//             initialValues={{term: filter.term, friend: String(filter.friend) as FriendFormType}}\r\n//             validate={usersSearchFormValidate}\r\n//             onSubmit={submit}\r\n//         >\r\n//             {({isSubmitting}) => (\r\n//                 <Form>\r\n//                     <Field type=\"text\" name=\"term\"/>\r\n//\r\n//                     <Field name=\"friend\" as=\"select\">\r\n//                         <option value=\"null\">All</option>\r\n//                         <option value=\"true\">Only followed</option>\r\n//                         <option value=\"false\">Only unfollowed</option>\r\n//                     </Field>\r\n//                     <button type=\"submit\" disabled={isSubmitting}>\r\n//                         Find\r\n//                     </button>\r\n//                 </Form>\r\n//             )}\r\n//         </Formik>\r\n//     </div>\r\n// })\r\n\r\nconst usersSearchFormValidate = (values: any) => {\r\n    const errors = {}\r\n    return errors\r\n}\r\n\r\ntype FriendFormType = 'true' | 'false' | 'null'\r\n\r\ntype FormType = {\r\n    term: string\r\n    friend: 'true' | 'false' | 'null'\r\n}\r\n\r\ntype PropsType = {\r\n    onFilterChanged: (filter: FilterType) => void\r\n}\r\n\r\nexport const UsersSearchForm: React.FC<PropsType> = React.memo((props) => {\r\n    const filter = useSelector(getUsersFilter)\r\n    const submit = (values: FormType, {setSubmitting}: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n        const filter: FilterType = {\r\n            term: values.term,\r\n            friend: values.friend === 'null' ? null : values.friend === 'true' ? true : false\r\n        }\r\n\r\n        props.onFilterChanged(filter)\r\n        setSubmitting(false)\r\n    }\r\n\r\n    return <div>\r\n        <Formik\r\n            enableReinitialize\r\n            initialValues={{term: filter.term, friend: String(filter.friend) as FriendFormType}}\r\n            validate={usersSearchFormValidate}\r\n            onSubmit={submit}\r\n        >\r\n            {({isSubmitting}) => (\r\n                <Form>\r\n                    <Field type=\"text\" name=\"term\"/>\r\n\r\n                    <Field name=\"friend\" as=\"select\">\r\n                        <option value=\"null\">All</option>\r\n                        <option value=\"true\">Only followed</option>\r\n                        <option value=\"false\">Only unfollowed</option>\r\n                    </Field>\r\n                    <button type=\"submit\" disabled={isSubmitting}>\r\n                        Find\r\n                    </button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    </div>\r\n})","import React, {useEffect} from \"react\";\r\nimport {Paginator} from \"../Common/Paginator/Paginator\";\r\nimport {User} from \"./User\";\r\nimport {FilterType, follow, getUsers, unfollow} from \"../../redux/users-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getCurrentPageSelector, getFollowingIsProgressSelector,\r\n    getPageSizeSelector,\r\n    getTotalUsersCountsSelector,\r\n    getUsersFilter, getUserSuper\r\n} from \"../../redux/users-selectors\";\r\nimport {UsersSearchForm} from \"./UsersSearchForm\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as queryString from \"querystring\";\r\n\r\ntype QueryParamsType = { term?: string; page?: string; friend?: string }\r\n\r\nexport const Users = () => {\r\n    const users = useSelector(getUserSuper)\r\n    const totalUsersCount = useSelector(getTotalUsersCountsSelector)\r\n    const currentPage = useSelector(getCurrentPageSelector)\r\n    const pageSize = useSelector(getPageSizeSelector)\r\n    const filter = useSelector(getUsersFilter)\r\n    const followingInProgress = useSelector(getFollowingIsProgressSelector)\r\n\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        const parsed = queryString.parse(history.location.search.substr(1)) as QueryParamsType\r\n        let actualPage = currentPage\r\n        let actualFilter = filter\r\n        if(!!parsed.page) actualPage = Number(parsed.page)\r\n        if(!!parsed.term) actualFilter = {...actualFilter, term: parsed.term as string}\r\n        switch (parsed.friend){\r\n            case \"null\":\r\n                actualFilter = {...actualFilter, friend: null}\r\n                break\r\n            case \"true\":\r\n                actualFilter = {...actualFilter, friend: true}\r\n                break\r\n            case \"false\":\r\n                actualFilter = {...actualFilter, friend: false}\r\n                break\r\n        }\r\n        dispatch(getUsers(actualPage, pageSize, actualFilter))\r\n    }, [])\r\n    useEffect(() => {\r\n        const query: QueryParamsType = {}\r\n        if(!!filter.term) query.term = filter.term\r\n        if(filter.friend !== null) query.friend = String(filter.friend)\r\n        if(currentPage !== 1) query.page = String(currentPage)\r\n\r\n        history.push({\r\n            pathname: '/users',\r\n            search: queryString.stringify(query)\r\n        })\r\n    }, [filter, currentPage])\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        dispatch(getUsers(pageNumber, pageSize, filter))\r\n    }\r\n    const onFilterChanged = (filter: FilterType) => {\r\n        dispatch(getUsers(1, pageSize, filter))\r\n    }\r\n    const followU = (userId: number) => {\r\n        dispatch(follow(userId))\r\n    }\r\n    const unfollowU = (userId: number) => {\r\n        dispatch(unfollow(userId))\r\n    }\r\n    return (\r\n        <div>\r\n            <UsersSearchForm onFilterChanged={onFilterChanged} />\r\n            {\r\n                users.map(u => <User followingIsProgress={followingInProgress}\r\n                                           unfollow={unfollowU}\r\n                                           follow={followU}\r\n                                           user={u}\r\n                                           key={u.id}\r\n                />)\r\n            }\r\n\r\n            <Paginator currentPage={currentPage}\r\n                       onPageChanged={onPageChanged}\r\n                       pageSize={pageSize}\r\n                       totalItemCounts={totalUsersCount}  />\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from \"react\";\r\nimport {Users} from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getIsFetchingSelector} from \"../../redux/users-selectors\";\r\n\r\n\r\ntype UsersPagePropsType = {\r\n    pageTitle: string\r\n}\r\n\r\nexport const UsersContainer: React.FC<UsersPagePropsType> = (props) => {\r\n    const isFetching = useSelector(getIsFetchingSelector)\r\n    return <>\r\n        <h2>{props.pageTitle}</h2>\r\n        {isFetching ? <Preloader/> : null}\r\n        <Users />\r\n    </>\r\n}","import React from 'react'\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {createField, GetStringKeys, Input} from \"../Common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {RootReduxStateType} from \"../../redux/redux-store\";\r\nimport style from '../Common/FormsControls/FormsControls.module.css'\r\n\r\ntype FormDataType = {\r\n    captcha: string\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\ntype LoginFormValuesTypeKeys = GetStringKeys<FormDataType>\r\ntype LoginFormOwnProps = {\r\n    captchaUrl: string | null\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType, LoginFormOwnProps> & LoginFormOwnProps> = ({handleSubmit, error,captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                {createField<LoginFormValuesTypeKeys>(\"Email\", 'email', [required], Input)}\r\n                {createField<LoginFormValuesTypeKeys>(\"Password\", 'password', [required], Input, {type:'password'})}\r\n                {createField<LoginFormValuesTypeKeys>(undefined, 'rememberMe', [], Input, {type:'checkbox'})}\r\n\r\n                {captchaUrl && <img src={captchaUrl}/>}\r\n                {captchaUrl && createField<LoginFormValuesTypeKeys>(\"Symbols from image\", 'captcha', [required], Input, {})}\r\n            </div>\r\n            {error &&<div className={style.someError}>{error}</div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType, LoginFormOwnProps>({form: 'login'})(LoginForm)\r\n\r\nexport const Login = () => {\r\n    const  isAuth = useSelector((state:RootReduxStateType)=> state.auth.isAuth)\r\n    const  captchaUrl = useSelector((state:RootReduxStateType)=> state.auth.captchaUrl)\r\n    const dispatch = useDispatch()\r\n\r\n    let onSubmit =(formData: FormDataType)=>{\r\n        dispatch(login(formData.email, formData.password, formData.rememberMe, formData.captcha))\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl} />\r\n        </div>\r\n    )\r\n}\r\n","import React, {ComponentType} from \"react\";\r\n\r\n\r\nexport function withSuspense<WCP>(WrappedComponent: ComponentType<WCP>) {\r\n    return (props: WCP) => {\r\n        return <React.Suspense fallback={<div>loading...</div>}>\r\n            <WrappedComponent {...props} />\r\n        </React.Suspense>\r\n    }\r\n}\r\n","import {RootReduxStateType} from \"./redux-store\";\r\n\r\nexport const selectIsAuth = (state:RootReduxStateType)=>{\r\n    return state.auth.isAuth\r\n}\r\nexport const selectUserCurrent =(state: RootReduxStateType)=>{\r\n    return state.auth.login\r\n}","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\nimport {Avatar, Button, Col, Layout, Menu, Row} from \"antd\";\r\nimport {UserOutlined} from \"@ant-design/icons\";\r\nimport {RootReduxStateType} from \"../../redux/redux-store\";\r\nimport {selectIsAuth, selectUserCurrent} from \"../../redux/auth-selector\";\r\n\r\n\r\nconst Header = React.memo(() => {\r\n    const {Header} = Layout;\r\n\r\n    const isAuth = useSelector(selectIsAuth)\r\n    const login = useSelector(selectUserCurrent)\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const logoutCallback = () => {\r\n        dispatch(logout())\r\n    }\r\n    return (\r\n        <Header className=\"header\">\r\n            <div className=\"logo\"/>\r\n            <Row>\r\n                <Col span={18}>\r\n                    <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\r\n                        <Menu.Item key=\"5\"><Link to=\"/users\">Users</Link></Menu.Item>\r\n                        <Menu.Item key=\"9\"><Link to=\"/Chat\">Chat</Link></Menu.Item>\r\n                    </Menu>\r\n                </Col>\r\n                {isAuth\r\n                    ? <>\r\n                        <Col span={1}>\r\n                            <Avatar style={{backgroundColor: '#87d068'}} icon={<UserOutlined/>}/>\r\n                        </Col>\r\n                        <Col span={4}>\r\n                            <Button onClick={logoutCallback}>logout</Button>\r\n                        </Col>\r\n                    </>\r\n                    : <Col span={6}>\r\n                        <Button>\r\n                            <Link to={'/login'}>Login</Link>\r\n                        </Button>\r\n                    </Col>}\r\n            </Row>\r\n        </Header>\r\n\r\n\r\n\r\n\r\n\r\n        // <header className={classes.header}>\r\n        //     <img\r\n        //         src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Logo_TV_2015.svg/1200px-Logo_TV_2015.svg.png\"\r\n        //         alt=\"logo\"/>\r\n        //\r\n        //     <div className={classes.loginBlock}>\r\n        //         {props.isAuth\r\n        //             ? <div>{props.login} - <button onClick={logoutCallback}>logout</button></div>\r\n        //             : <NavLink to={'/login'}>Login</NavLink>}\r\n        //     </div>\r\n        // </header>\r\n    );\r\n})\r\nexport default Header;","import React from 'react';\r\nimport './App.css';\r\nimport 'antd/dist/antd.css';\r\nimport Music from './components/Music/Music';\r\nimport News from './components/News/News';\r\nimport Setting from './components/Setting/Setting';\r\nimport {BrowserRouter, Link, Redirect, Route, withRouter} from \"react-router-dom\";\r\nimport store, {RootReduxStateType} from \"./redux/redux-store\";\r\nimport {UsersContainer} from \"./components/Users/UsersContainer\";\r\nimport {Login} from './components/Login/Login';\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializedApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/Common/Preloader/Preloader\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\nimport {initialStateType} from \"./redux/navbar-reducer\";\r\nimport {Breadcrumb, Layout, Menu} from \"antd\";\r\nimport {LaptopOutlined, NotificationOutlined, UserOutlined} from '@ant-design/icons';\r\nimport Header from \"./components/Header/Header\";\r\n\r\n\r\nconst { SubMenu } = Menu;\r\nconst {Content, Footer, Sider } = Layout;\r\n\r\nconst DialogsContainer = React.lazy(()=>import (\"./components/Dialogs/DialogsContainer\"));\r\nconst ProfileContainer = React.lazy(()=>import (\"./components/Profile/ProfileContainer\"));\r\nconst ChatPage = React.lazy(()=>import (\"./pages/ChatPage/ChatPage\"));\r\n\r\nconst SuspendedDialogs = withSuspense(DialogsContainer)\r\nconst SuspendedProfile = withSuspense(ProfileContainer)\r\nconst SuspendedChat = withSuspense(ChatPage)\r\n\r\nclass App extends React.Component<mapStateToPropsType & mapDispatchToPropsType> {\r\n  catchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\r\n    alert('Some error occured')\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.initializedApp()\r\n    window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader/>\r\n    }\r\n    return <BrowserRouter>\r\n      <Layout>\r\n        <Header />\r\n        <Content style={{ padding: '0 50px' }}>\r\n          <Breadcrumb style={{ margin: '16px 0' }}>\r\n            <Breadcrumb.Item>Home</Breadcrumb.Item>\r\n          </Breadcrumb>\r\n          <Layout className=\"site-layout-background\" style={{ padding: '24px 0' }}>\r\n            <Sider className=\"site-layout-background\" width={200}>\r\n              <Menu\r\n                  mode=\"inline\"\r\n                  defaultSelectedKeys={['1']}\r\n                  // defaultOpenKeys={['sub1']}\r\n                  style={{ height: '100%' }}\r\n              >\r\n                <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"My Profile\">\r\n                  <Menu.Item key=\"1\"><Link to=\"/profile\">Profile</Link></Menu.Item>\r\n                  <Menu.Item key=\"2\"><Link to=\"/dialogs\">Messages</Link></Menu.Item>\r\n                </SubMenu>\r\n                <SubMenu key=\"sub2\" icon={<LaptopOutlined />} title=\"Users\">\r\n                  <Menu.Item key=\"5\"><Link to=\"/users\" >Users</Link></Menu.Item>\r\n                </SubMenu>\r\n                <SubMenu key=\"sub3\" icon={<NotificationOutlined />} title=\"Chat\">\r\n                  <Menu.Item key=\"9\"><Link to=\"/chat\" >Chat</Link></Menu.Item>\r\n                </SubMenu>\r\n              </Menu>\r\n            </Sider>\r\n            <Content style={{ padding: '0 24px', minHeight: 280 }}>\r\n              <Route path='/' render={() => <Redirect to={'/profile'}/>}/>\r\n              <Route path='/profile/:userId?' render={() => <SuspendedProfile/>}/>\r\n              <Route path='/dialogs' render={() => <SuspendedDialogs/>}/>\r\n              <Route path='/chat' render={() => <SuspendedChat/>}/>\r\n              <Route path='/users' render={() => <UsersContainer pageTitle={'Пользователи'} />}/>\r\n              <Route path='/login' render={() => <Login/>}/>\r\n              <Route path='/music' render={() => <Music/>}/>\r\n              <Route path='/news' render={() => <News/>}/>\r\n              <Route path='/setting' render={() => <Setting/>}/></Content>\r\n          </Layout>\r\n        </Content>\r\n        <Footer style={{ textAlign: 'center' }}>Social Network ©2021</Footer>\r\n      </Layout>\r\n      {/*<div className=\"app-wrapper\">*/}\r\n      {/*  <HeaderContainer />*/}\r\n      {/*  <Navbar state={this.props.stateForNavbar}/>*/}\r\n      {/*  <div className=\"app-wrapper-content\">*/}\r\n      {/*    <Route path='/' render={() => <Redirect to={'/profile'}/>}/>*/}\r\n      {/*    <Route path='/profile/:userId?' render={() => <SuspendedProfile/>}/>*/}\r\n      {/*    <Route path='/dialogs' render={() => <SuspendedDialogs/>}/>*/}\r\n      {/*    <Route path='/users' render={() => <UsersContainer pageTitle={'Пользователи'} />}/>*/}\r\n      {/*    <Route path='/login' render={() => <Login/>}/>*/}\r\n      {/*    <Route path='/music' render={() => <Music/>}/>*/}\r\n      {/*    <Route path='/news' render={() => <News/>}/>*/}\r\n      {/*    <Route path='/setting' render={() => <Setting/>}/>*/}\r\n      {/*  </div>*/}\r\n      {/*</div>*/}\r\n    </BrowserRouter>;\r\n  }\r\n}\r\n\r\ntype mapStateToPropsType = {\r\n  initialized: boolean\r\n  stateForNavbar: initialStateType\r\n}\r\ntype mapDispatchToPropsType = {\r\n  initializedApp:()=>void\r\n}\r\n\r\nconst mapStateToProps =(state: RootReduxStateType): mapStateToPropsType => ({\r\n  initialized:state.app.initialized,\r\n  stateForNavbar: state.navbarPage\r\n})\r\n\r\nlet AppClass = compose<React.ComponentType>(\r\n    withRouter,\r\n    connect(mapStateToProps,{initializedApp}))(App);\r\n\r\nconst AppContainer: React.FC = () => {\r\n  return <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <Provider store={store}>\r\n      <AppClass />\r\n    </Provider>\r\n  </BrowserRouter>\r\n}\r\n\r\nexport default AppContainer\r\n","import React from 'react';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from \"react-dom\";\r\nimport AppContainer from \"./App\";\r\n\r\n\r\n    ReactDOM.render(<AppContainer />, document.getElementById('root')\r\n    );\r\n\r\n\r\n\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import React from \"react\";\r\nimport styles from './FormsControls.module.css'\r\nimport  {WrappedFieldMetaProps, WrappedFieldProps, Field} from \"redux-form\";\r\nimport {FieldValidatorType} from \"../../../utils/validators/validators\";\r\n\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\nexport const FormControl: React.FC<FormControlPropsType> = ({meta:{touched, error}, children})=>{\r\n\r\n    const hasError = touched && error;\r\n\r\n    return <div className={styles.formControl + ' ' + (hasError ?styles.error : '')}>\r\n        <div>\r\n            {children}\r\n        </div>\r\n        { hasError && <span>{error}</span>}\r\n    </div>\r\n}\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    //const {input, meta, child, ...restProps} = props;\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} className={styles.textarea} /></FormControl>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    //const {input, meta, child, ...restProps} = props;\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\nexport function createField<FormKeysType extends string>(placeholder: string | undefined,\r\n                                                         name: FormKeysType,\r\n                                                         validators: Array<FieldValidatorType>,\r\n                                                         component: React.FC<WrappedFieldProps>,\r\n                                                         props = {}, text = \"\") {\r\n    return <div>\r\n        <Field placeholder={placeholder} name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n}\r\nexport type GetStringKeys<T> = Extract<keyof T, string>","import {APIResponseType, GetItemsType, instance} from \"./api\";\r\nimport {ProfileAPI} from \"./profile-api\";\r\n\r\n\r\nexport const UsersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10, term: string = '', friend: null | boolean = null) {\r\n        return instance.get<GetItemsType>(`users?page=${currentPage}&count=${pageSize}&term=${term}` + (friend === null ? '' : `&friend=${friend}`))\r\n            .then(res => res.data)\r\n    },\r\n    unfollow(id: number | null) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => response.data) as Promise<APIResponseType>\r\n    },\r\n    follow(id: number | null) {\r\n        return instance.post<APIResponseType>(`follow/${id}`)\r\n            .then(response => response.data)\r\n    },\r\n    getProfile(userId: number | null) {\r\n        return ProfileAPI.getProfile(userId)\r\n    }\r\n}\r\n","import {PhotosType, ProfileType, UserType} from \"../redux/types/types\";\r\nimport {APIResponseType, instance} from \"./api\";\r\n\r\ntype SavePhotoResponseDataType = {\r\n    photos: PhotosType\r\n}\r\n\r\nexport const ProfileAPI = {\r\n    getProfile(userId: number | null) {\r\n        return instance.get<ProfileType>(`profile/` + userId).then(res => res.data)\r\n    },\r\n    getStatus(userId: number | null) {\r\n        return instance.get<string>(`profile/status/` + userId).then(res => res.data)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<APIResponseType>(`profile/status/`, {status}).then(res => res.data)\r\n    },\r\n    savePhoto(file: File) {\r\n        const formData = new FormData();\r\n        formData.append('image', file)\r\n        return instance.put<APIResponseType<SavePhotoResponseDataType>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res => res.data);\r\n    },\r\n    saveProfile(profile: ProfileType) {\r\n        return instance.put<APIResponseType>(`profile`, profile).then(res => res.data);\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__26SEB\",\"error\":\"FormsControls_error__2j2PA\",\"someError\":\"FormsControls_someError__1Tho8\",\"textarea\":\"FormsControls_textarea__3LyxF\"};"],"sourceRoot":""}