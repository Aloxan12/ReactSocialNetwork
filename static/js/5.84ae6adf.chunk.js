(this.webpackJsonpkabzda=this.webpackJsonpkabzda||[]).push([[5],{401:function(e,t,n){"use strict";n.r(t),n.d(t,"Chat",(function(){return a})),n.d(t,"Messages",(function(){return o})),n.d(t,"Message",(function(){return b})),n.d(t,"AddMessageForm",(function(){return d}));var c=n(159),r=n(0),s=n.n(r),u=n(18),i=n(198),j=n(1),a=(t.default=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(a,{})})},function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.chat.status}));return Object(r.useEffect)((function(){return e(Object(i.c)()),function(){e(Object(i.d)())}})),Object(j.jsxs)("div",{children:["error"===t&&Object(j.jsx)("div",{children:"Some error.Please refresh page"}),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(o,{}),Object(j.jsx)(d,{})]})]})}),o=function(){var e=Object(u.d)((function(e){return e.chat.messages})),t=Object(r.useRef)(null),n=Object(r.useState)(!0),s=Object(c.a)(n,2),i=s[0],a=s[1];return Object(r.useEffect)((function(){var e;i&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),Object(j.jsxs)("div",{style:{height:"400px",overflow:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!i&&a(!0):i&&a(!1)},children:[e.map((function(e,t){return Object(j.jsx)(b,{message:e},e.id)})),Object(j.jsx)("div",{ref:t})]})},b=s.a.memo((function(e){var t=e.message;return Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:t.photo,style:{width:"30px"}})," ",Object(j.jsx)("b",{children:t.userName}),Object(j.jsx)("br",{}),t.message,Object(j.jsx)("hr",{})]})})),d=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(r.useState)(""),n=Object(c.a)(t,2),s=n[0],a=n[1],o=Object(u.c)(),b=Object(u.d)((function(e){return e.chat.status}));return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("textarea",{value:s,onChange:function(e){a(e.currentTarget.value)}})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{disabled:"ready"!==b,onClick:function(){s&&(o(Object(i.b)(s)),a(""))},children:"Send"})})]})}}}]);
//# sourceMappingURL=5.84ae6adf.chunk.js.map